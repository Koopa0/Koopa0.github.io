/* Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Highlight.js theme for code syntax highlighting */
@import 'highlight.js/styles/github-dark.css';

/* Global Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Inter', 'Noto Sans TC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Dark theme (default) */
body.dark {
  background-color: #0d0d0d;
  color: #fafafa;
}

/* Light theme */
body.light {
  background-color: #ffffff;
  color: #18181b;
}

/* Code blocks */
code {
  font-family: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
}

/* Scrollbar styling for dark mode */
body.dark::-webkit-scrollbar {
  width: 10px;
}

body.dark::-webkit-scrollbar-track {
  background: #1a1a1a;
}

body.dark::-webkit-scrollbar-thumb {
  background: #3f3f46;
  border-radius: 5px;
}

body.dark::-webkit-scrollbar-thumb:hover {
  background: #52525b;
}

/* Scrollbar styling for light mode */
body.light::-webkit-scrollbar {
  width: 10px;
}

body.light::-webkit-scrollbar-track {
  background: #f4f4f5;
}

body.light::-webkit-scrollbar-thumb {
  background: #d4d4d8;
  border-radius: 5px;
}

body.light::-webkit-scrollbar-thumb:hover {
  background: #a1a1aa;
}

/* Markdown content styling - Zed.dev inspired */
.prose {
  @apply text-gray-800 dark:text-gray-200;

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-tight;
    @apply text-gray-900 dark:text-gray-100;
  }

  h1 {
    @apply text-4xl mb-6 mt-0;
    line-height: 1.2;
  }

  h2 {
    @apply text-3xl mb-4 mt-12;
    line-height: 1.3;
    @apply border-b border-gray-200 dark:border-gray-800 pb-2;
  }

  h3 {
    @apply text-2xl mb-3 mt-8;
    line-height: 1.4;
  }

  h4 {
    @apply text-xl mb-3 mt-6;
  }

  /* Paragraphs */
  p {
    @apply mb-6 leading-relaxed;
    line-height: 1.75;
  }

  /* Links */
  a {
    @apply text-blue-500 dark:text-blue-400 no-underline;
    @apply hover:underline transition-colors;

    &:hover {
      @apply text-blue-600 dark:text-blue-300;
    }
  }

  /* Lists */
  ul, ol {
    @apply mb-6 ml-6;
  }

  ul {
    @apply list-disc;
  }

  ol {
    @apply list-decimal;
  }

  li {
    @apply mb-2 leading-relaxed;

    > p {
      @apply mb-2;
    }
  }

  /* Blockquotes */
  blockquote {
    @apply border-l-4 border-blue-500 dark:border-blue-400;
    @apply pl-4 py-2 my-6 italic;
    @apply bg-gray-50 dark:bg-gray-900/30;
    @apply text-gray-700 dark:text-gray-300;
  }

  /* Code blocks */
  pre {
    @apply rounded-lg overflow-x-auto my-6;
    @apply bg-gray-900 dark:bg-black;
    @apply border border-gray-800 dark:border-gray-900;
    @apply p-4;

    code {
      @apply bg-transparent text-gray-100;
      @apply p-0 rounded-none;
      font-size: 0.875rem;
      line-height: 1.7;
    }
  }

  /* Inline code */
  code {
    @apply bg-gray-100 dark:bg-gray-800;
    @apply text-blue-600 dark:text-blue-400;
    @apply px-1.5 py-0.5 rounded;
    @apply text-sm font-mono;
    font-size: 0.875em;
  }

  /* Strong and emphasis */
  strong {
    @apply font-semibold text-gray-900 dark:text-gray-100;
  }

  em {
    @apply italic;
  }

  /* Horizontal rule */
  hr {
    @apply my-8 border-gray-300 dark:border-gray-700;
  }

  /* Tables */
  table {
    @apply w-full border-collapse my-6;
    @apply text-sm;
  }

  thead {
    @apply bg-gray-50 dark:bg-gray-900;
  }

  th {
    @apply border border-gray-300 dark:border-gray-700;
    @apply px-4 py-2 text-left font-semibold;
    @apply text-gray-900 dark:text-gray-100;
  }

  td {
    @apply border border-gray-300 dark:border-gray-700;
    @apply px-4 py-2;
  }

  tbody tr {
    @apply hover:bg-gray-50 dark:hover:bg-gray-900/50;
  }

  /* Images */
  img {
    @apply max-w-full h-auto rounded-lg my-6;
    @apply shadow-lg;
  }

  /* First paragraph after heading */
  h1 + p,
  h2 + p,
  h3 + p {
    @apply mt-4;
  }
}

/* Legacy markdown-content class */
.markdown-content {
  @extend .prose;
}

/* Animation utilities */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

/* Focus visible for accessibility */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-accent-blue;
}
